<div class="container-fluid">

    <div class="alert alert-danger" ng-repeat="error in errors">{{error}}</div>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="pull-right" ng-show="ingestStats.updated">
                        <span class="label label-success">{{ingestStats.query_time_ms}}ms</span>
                        <span class="label label-default">{{ingestStats.query_node.alias}}</span>
                        <span class="label label-default">{{ingestStats.updated}}</span>
                    </div>
                    <h3 class="panel-title">INGEST REQUESTS PER MINUITE</h3>

                </div>
                <div class="panel-body">
                    <flot dataset="[{label: 'RPM', data: ingestStats.data}]" options="ingestChartOptions" height="200px" width="100%"></flot>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-4">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title text-center">NORMAL</h3>
                </div>
                <div class="panel-body numeric-status text-success">
                    {{clusterStatus.status_count['UN'] | default:"0"}}
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <h3 class="panel-title text-center">SLOW</h3>
                </div>
                <div class="panel-body numeric-status text-warning">
                    {{clusterStatus.status_count['US'] | default:"0"}}
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="panel panel-danger">
                <div class="panel-heading">
                    <h3 class="panel-title text-center">DOWN</h3>
                </div>
                <div class="panel-body numeric-status text-danger">
                    {{clusterStatus.status_count['DN'] | default:"0"}}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">NODES</h3>
                </div>
                <table class="table table-striped">
                    <tr>
                        <th>Node</th>
                        <th>Status</th>
                        <th>Msg</th>
                        <th>Response Time</th>
                        <th>Last Updated</th>
                    </tr>
                    <tr ng-repeat="node in clusterStatus.nodes" ng-class="{'success': node.status==='UN', 'warning': node.status==='US', 'danger': node.status==='DN'}">
                        <td>{{node.alias}}</td>
                        <td>{{node.status}} ({{node.http_status}})</td>
                        <td>{{node.msg}}</td>
                        <td>{{node.response_time_ms}}ms</td>
                        <td>{{node.updated}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
